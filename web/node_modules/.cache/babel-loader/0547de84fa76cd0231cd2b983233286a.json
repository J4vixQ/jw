{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState } from 'vuex';\nexport default {\n  computed: {\n    ...mapState(['goods'])\n  },\n  methods: {\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    solve(val) {\n      const arr = [];\n      for (let i = (this.currentPage - 1) * this.pageSize; i < Math.min(this.currentPage * this.pageSize, this.goods.length); i++) {\n        const obj = {};\n        for (const k in val[i]) {\n          obj[k] = val[i][k];\n        }\n        obj.selling = obj.selling === 1;\n        arr.push(obj);\n      }\n      return arr;\n    }\n  },\n  data() {\n    return {\n      currentPage: 1,\n      pageSize: 5\n    };\n  }\n};","map":{"version":3,"mappings":";AAuDA;AACA;EACAA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;UACAC;QACA;QACAA;QACAC;MACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;IACA;EACA;AACA","names":["computed","methods","handleCurrentChange","solve","obj","arr","data","currentPage","pageSize"],"sourceRoot":"src/components","sources":["GoodsManage.vue"],"sourcesContent":["<template>\n  <div class=\"management\">\n    <article>\n      <div class=\"data\">\n        <el-table :data=\"solve(goods)\" style=\"width: 100%\">\n          <el-table-column label=\"商品编号\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.goodsname }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"商品描述\" width=\"180\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.description }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"商品图片\" width=\"180\">\n            <template slot-scope=\"scope\">\n              <img :src=\"'http://127.0.0.1/goods/' + scope.row.goodsname + '.png'\" alt=\"\"\n                style=\"width:150px;border-radius: 10px;\">\n            </template>\n          </el-table-column>\n          <el-table-column label=\"价格\">\n            <template slot-scope=\"scope\">\n              ¥{{ scope.row.price }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"存货量\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.store_num }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"销售量\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.sold_num }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"是否在售\">\n            <template slot-scope=\"scope\">\n              <el-switch v-model=\"scope.row.selling\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" disabled>\n              </el-switch>\n            </template>\n          </el-table-column>\n          <slot></slot>\n        </el-table>\n      </div>\n      <div class=\"block\">\n        <el-pagination @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\" :page-size=\"pageSize\"\n          layout=\"prev, pager, next, jumper\" :total=\"goods.length\">\n        </el-pagination>\n      </div>\n    </article>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  computed: {\n    ...mapState(['goods'])\n  },\n  methods: {\n    handleCurrentChange(val) {\n      this.currentPage = val\n    },\n    solve(val) {\n      const arr = []\n      for (let i = (this.currentPage - 1) * this.pageSize; i < Math.min(this.currentPage * this.pageSize, this.goods.length); i++) {\n        const obj = {}\n        for (const k in val[i]) {\n          obj[k] = val[i][k]\n        }\n        obj.selling = obj.selling === 1\n        arr.push(obj)\n      }\n      return arr\n    }\n  },\n  data() {\n    return {\n      currentPage: 1,\n      pageSize: 5\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.management {\n  background-color: rgb(244, 244, 244);\n\n  article {\n    margin: 0 5%;\n    text-align: center;\n\n    .block {\n      display: inline-block;\n      margin: 20px 0;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}