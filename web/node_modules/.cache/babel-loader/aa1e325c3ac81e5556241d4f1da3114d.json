{"ast":null,"code":"import AboutGoods from '../components/AboutGoods.vue';\nimport PageHeader from '../components/PageHeader.vue';\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  components: {\n    AboutGoods,\n    PageHeader\n  },\n  async created() {\n    // 获取商品信息\n    const {\n      data\n    } = await this.$http({\n      headers: {\n        Authorization: localStorage.getItem('token')\n      },\n      method: 'GET',\n      url: '/getgoods'\n    });\n    this.setgoods(data.goods);\n    this.filterGoods = data.goods;\n  },\n  data() {\n    return {\n      searchText: '',\n      filterGoods: null\n    };\n  },\n  computed: {\n    ...mapState(['myinfo', 'goods'])\n  },\n  methods: {\n    ...mapMutations(['setgoods']),\n    searchGds() {\n      // filter函数筛选商品\n      this.filterGoods = this.goods.filter(val => val.description.indexOf(this.searchText) !== -1);\n      const ele = document.querySelector('.goods');\n\n      // 滚动条自动跳转到商品处, 优化交互效果\n      window.scrollTo({\n        top: ele.offsetTop,\n        behavior: 'smooth'\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAsHA;AACA;AACA;AACA;EACAA;IACAC;IACAC;EACA;EACA;IACA;IACA;MAAAC;IAAA;MACAC;QACAC;MACA;MACAC;MACAC;IACA;IACA;IACA;EACA;EACAJ;IACA;MACAK;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;;MAEA;MACAC;QACAC;QACAC;MACA;IACA;EACA;AACA","names":["components","AboutGoods","PageHeader","data","headers","Authorization","method","url","searchText","filterGoods","computed","methods","searchGds","window","top","behavior"],"sourceRoot":"src/views","sources":["MainPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <PageHeader></PageHeader>\n\n    <nav>\n      <img src=\"../assets/logo.png\" alt=\"\">\n      <div class=\"search\">\n        <input type=\"text\" v-model=\"searchText\" />\n        <span @click=\"searchGds\">搜索</span>\n      </div>\n    </nav>\n\n    <article>\n      <div class=\"left\">\n        <ul>\n          <li>\n            <span style=\"background-position:0px 0px\"></span>品类齐全，轻松购物\n          </li>\n          <li>\n            <span style=\"background-position:-41px 0px\"></span>多仓直发，极速配送\n          </li>\n          <li>\n            <span style=\"background-position:-82px 0px\"></span>正品行货，精致服务\n          </li>\n          <li>\n            <span style=\"background-position:-123px 0px\"></span>天天低价，畅选无忧\n          </li>\n        </ul>\n      </div>\n      <div class=\"middle\">\n        <div class=\"block\">\n          <el-carousel trigger=\"click\" height=\"409px\">\n            <el-carousel-item v-for=\"item in 6\" :key=\"item\">\n              <img class=\"small\" :src=\"require('../assets/slider' + (item) + '.jpg')\" />\n            </el-carousel-item>\n          </el-carousel>\n        </div>\n      </div>\n      <div class=\"right\">\n        <ul>\n          <li></li>\n          <li></li>\n          <li></li>\n        </ul>\n      </div>\n    </article>\n\n    <div class=\"goods\">\n      <AboutGoods id=\"gd\" v-for=\"item in filterGoods\" :key=\"item.goodsname\" :src=\"item.goodsname\"\n        :title=\"item.description\" :price=\"item.price\"></AboutGoods>\n    </div>\n    <footer>\n      <ul class=\"footer-1\">\n        <li>\n          <ul class=\"subul1\">\n            <li>购物指南</li>\n            <li><a href=\"javascript:;\">购物流程</a></li>\n            <li><a href=\"javascript:;\">会员介绍</a></li>\n            <li><a href=\"javascript:;\">生活旅行</a></li>\n            <li><a href=\"javascript:;\">常见问题</a></li>\n            <li><a href=\"javascript:;\">大家电</a></li>\n            <li><a href=\"javascript:;\">联系客服</a></li>\n          </ul>\n        </li>\n        <li>\n          <ul class=\"subul1\">\n            <li>配送方式</li>\n            <li><a href=\"javascript:;\">上门自提</a></li>\n            <li><a href=\"javascript:;\">211限时达</a></li>\n            <li><a href=\"javascript:;\">配送服务查询</a></li>\n            <li><a href=\"javascript:;\">配送费收取标准</a></li>\n            <li><a href=\"javascript:;\">海外配送</a></li>\n          </ul>\n        </li>\n        <li>\n          <ul class=\"subul1\">\n            <li>支付方式</li>\n            <li><a href=\"javascript:;\">货到付款</a></li>\n            <li><a href=\"javascript:;\">在线支付</a></li>\n            <li><a href=\"javascript:;\">分期付款</a></li>\n            <li><a href=\"javascript:;\">公司转账</a></li>\n          </ul>\n        </li>\n        <li>\n          <ul class=\"subul1\">\n            <li>售后服务</li>\n            <li><a href=\"javascript:;\">售后政策</a></li>\n            <li><a href=\"javascript:;\">价格保护</a></li>\n            <li><a href=\"javascript:;\">退款说明</a></li>\n            <li><a href=\"javascript:;\">返修/退换货</a></li>\n            <li><a href=\"javascript:;\">取消订单</a></li>\n          </ul>\n        </li>\n      </ul>\n      <div class=\"footer-div\">\n        <ul class=\"footer-2\">\n          <li><a href=\"javascript:;\">关于我们</a></li>\n          <li><a href=\"javascript:;\">联系我们</a></li>\n          <li><a href=\"javascript:;\">联系客服</a></li>\n          <li><a href=\"javascript:;\">合作招商</a></li>\n          <li><a href=\"javascript:;\">商家帮助</a></li>\n          <li><a href=\"javascript:;\">营销中心</a></li>\n          <li><a href=\"javascript:;\">手机购物</a></li>\n          <li><a href=\"javascript:;\">友情链接</a></li>\n          <li><a href=\"javascript:;\">销售联盟</a></li>\n          <li><a href=\"javascript:;\">购物社区</a></li>\n          <li><a href=\"javascript:;\">风险监测</a></li>\n          <li><a href=\"javascript:;\">隐私政策</a></li>\n          <li><a href=\"javascript:;\">购物公益</a></li>\n          <li><a href=\"javascript:;\">English Site</a></li>\n          <li><a href=\"javascript:;\">Media & IR</a></li>\n        </ul>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport AboutGoods from '../components/AboutGoods.vue'\nimport PageHeader from '../components/PageHeader.vue'\nimport { mapState, mapMutations } from 'vuex'\nexport default {\n  components: {\n    AboutGoods,\n    PageHeader\n  },\n  async created() {\n    // 获取商品信息\n    const { data } = await this.$http({\n      headers: {\n        Authorization: localStorage.getItem('token')\n      },\n      method: 'GET',\n      url: '/getgoods'\n    })\n    this.setgoods(data.goods)\n    this.filterGoods = data.goods\n  },\n  data() {\n    return {\n      searchText: '',\n      filterGoods: null\n    }\n  },\n  computed: {\n    ...mapState(['myinfo', 'goods'])\n  },\n  methods: {\n    ...mapMutations(['setgoods']),\n    searchGds() {\n      // filter函数筛选商品\n      this.filterGoods = this.goods.filter(val => val.description.indexOf(this.searchText) !== -1)\n      const ele = document.querySelector('.goods')\n\n      // 滚动条自动跳转到商品处, 优化交互效果\n      window.scrollTo({\n        top: ele.offsetTop,\n        behavior: 'smooth'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  background-color: rgb(244, 244, 244);\n\n  nav {\n    background-color: #fff;\n    height: 140px;\n    padding: 20px 20%;\n    display: flex;\n    align-items: center;\n\n    img {\n      width: 20%;\n      max-width: 100px;\n    }\n\n    .search {\n      width: 70%;\n      margin-left: 10%;\n\n      input {\n        height: 36px;\n        width: 80%;\n        vertical-align: middle;\n        outline: none;\n        border: 2px solid #b1191a;\n        padding: 0 5px;\n      }\n\n      span {\n        display: inline-block;\n        height: 36px;\n        width: 20%;\n        vertical-align: middle;\n        background-color: rgb(247, 247, 247);\n        border: 1.5px solid #dfdfdf;\n        border-left: 0;\n        color: #b1191a;\n        text-align: center;\n        line-height: 33px;\n\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n  }\n\n  article {\n    margin: 12px 80px;\n    display: flex;\n\n    .left {\n      flex: 1;\n\n      ul {\n        flex-direction: column;\n\n        li {\n          span {\n            background-image: url(../assets/sprite.png);\n            display: inline-block;\n            width: 38px;\n            height: 43px;\n            vertical-align: middle;\n          }\n\n          width: 100%;\n          height: 105px;\n          line-height: 105px;\n          font-size: 18px;\n          font-weight: 700;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          color: #444;\n        }\n      }\n    }\n\n    .middle {\n      flex: 4;\n      max-width: 590px;\n\n      .block {\n        margin: 10px 10px 0;\n      }\n\n      .el-carousel__item h3 {\n        color: #475669;\n        font-size: 14px;\n        opacity: 0.75;\n        line-height: 150px;\n        margin: 0;\n      }\n\n      .el-carousel__item:nth-child(2n) {\n        background-color: #99a9bf;\n      }\n\n      .el-carousel__item:nth-child(2n+1) {\n        background-color: #d3dce6;\n      }\n    }\n\n    .right {\n      flex: 1;\n\n      ul {\n        li {\n          width: 100%;\n          height: 130px;\n          background-image: url(../assets/rotation_right_1.png);\n          background-size: 100% 100%;\n          margin-top: 10px;\n\n          &:nth-child(1) {\n            background-image: url(../assets/rotation_right_2.png);\n          }\n\n          &:nth-child(2) {\n            background-image: url(../assets/rotation_right_3.png);\n          }\n        }\n      }\n    }\n  }\n\n  .goods {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 20px 80px;\n    justify-content: center;\n    align-items: center;\n\n    #gd {\n      margin: 10px 1% 0;\n    }\n  }\n\n  footer {\n    .footer-1 {\n      border-top: 1px solid #dedede;\n      padding: 20px 0 0 15%;\n      display: flex;\n\n      &>li {\n        flex: 1;\n        float: left;\n      }\n\n      .subul1 {\n        li {\n          color: #666;\n          line-height: 22px;\n          font-size: 12px;\n\n          &:first-child {\n            font-weight: bold;\n            font-size: 14px;\n            margin-bottom: 5px;\n          }\n\n          a {\n            color: #666;\n\n            &:hover {\n              color: rgb(227, 51, 51);\n            }\n          }\n        }\n      }\n    }\n\n    .footer-div {\n      margin-top: 20px;\n      border-top: 1px solid #dedede;\n      padding-top: 20px;\n      text-align: center;\n      padding-bottom: 50px;\n\n      .footer-2 {\n        display: inline-block;\n\n        li {\n          float: left;\n          color: #666;\n          font-size: 12px;\n          padding-left: 7px;\n\n          &:nth-child(n+2)::before {\n            content: \"|\";\n            padding-right: 7px;\n          }\n\n          a {\n            color: #666;\n\n            &:hover {\n              color: rgb(227, 51, 51);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}